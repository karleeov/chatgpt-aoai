{"version":3,"file":"crisp.umd.js","sources":["../src/message.ts","../src/user.ts","../src/trigger.ts","../src/session.ts","../src/chat.ts","../src/index.ts"],"sourcesContent":["import { CrispClass as Crisp } from \"./index\";\n\nexport type FileMessage = {\n  url: string,\n  type: string,\n  name: string\n};\n\nexport type AnimationMessage = {\n  url: string,\n  type: string\n};\n\nexport type AudioMessage = {\n  url: string,\n  type: string,\n  duration: number\n};\n\nexport type PickerMessage = {\n  id: string,\n  text: string,\n  choices: PickerMessageChoices[]\n};\n\nexport type PickerMessageChoices = {\n  value: string,\n  label: string,\n  selected: boolean\n};\n\nexport type FieldMessage = {\n  id: string,\n  text: string,\n  explain: string\n};\n\nexport type CarouselMessageTargets = {\n  title: string,\n  description?: string,\n  image?: string\n  actions: CarouselMessageTargetsActions[]\n};\n\nexport type CarouselMessageTargetsActions = {\n  label: string,\n  url: string\n};\n\nexport type CarouselMessage = {\n  text: string,\n  targets: CarouselMessageTargets[]\n};\n\nexport default class CrispMessage {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  send(type: string, content: string | FileMessage | AnimationMessage | AudioMessage) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:send\", [type, content]]);\n  }\n\n  sendText(content: string) {\n    this.send(\"text\", content);\n  }\n\n  sendFile(content: FileMessage) {\n    this.send(\"file\", content);\n  }\n\n  sendAnimation(content: AnimationMessage) {\n    this.send(\"animation\", content);\n  }\n\n  sendAudio(content: AudioMessage) {\n    this.send(\"audio\", content);\n  }\n\n  show(type: string, content: string | FileMessage | AnimationMessage | AudioMessage | FieldMessage | PickerMessage | CarouselMessage) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:show\", [type, content]]);\n  }\n\n  showText(content: string) {\n    this.show(\"text\", content);\n  }\n\n  showFile(content: FileMessage) {\n    this.show(\"file\", content);\n  }\n\n  showAnimation(content: AnimationMessage) {\n    this.show(\"animation\", content);\n  }\n\n  showAudio(content: AudioMessage) {\n    this.show(\"audio\", content);\n  }\n\n  showPicker(content: PickerMessage) {\n    this.show(\"picker\", content);\n  }\n\n  showField(content: FieldMessage) {\n    this.show(\"field\", content);\n  }\n\n  showCarousel(content: CarouselMessage) {\n    this.show(\"carousel\", content);\n  }\n\n  markAsRead() {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:read\"]);\n  }\n\n  startThread(name: String) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:thread:start\", [name]]);\n  }\n\n  endThread(name?: String) {\n    this.parent.createSingletonIfNecessary();\n    \n    window.$crisp.push([\"do\", \"message:thread:end\", [name]]);\n  }\n\n  onMessageSent(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:sent\"]);\n    window.$crisp.push([\"on\", \"message:sent\", callback]);\n  }\n\n  onMessageReceived(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:received\"]);\n    window.$crisp.push([\"on\", \"message:received\", callback]);\n  }\n\n  onMessageComposeSent(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:compose:sent\"]);\n    window.$crisp.push([\"on\", \"message:compose:sent\", callback]);\n  }\n\n  onMessageComposeReceived(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:compose:received\"]);\n    window.$crisp.push([\"on\", \"message:compose:received\", callback]);\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport type CompanyData = {\n  url?: string,\n  description?: string,\n  employment?: CompanyDataEmployment | string[],\n  geolocation?: CompanyDataGeolocation | string[]\n};\n\nexport type CompanyDataEmployment = {\n  title: string,\n  role?: string\n};\n\nexport type CompanyDataGeolocation = {\n  country: string,\n  city?: string\n};\n\nexport default class CrispUser {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  setNickname(nickname: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:nickname\", [nickname]]);\n  }\n\n  setEmail(email: string, hmac?: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:email\", [email, hmac]]);\n  }\n\n  setPhone(phone: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:phone\", [phone]]);\n  }\n\n  setAvatar(avatar: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:avatar\", [avatar]]);\n  }\n\n  setCompany(name: string, data: CompanyData) {\n    const _payload: CompanyData = {};\n\n    if (data && data.url) {\n      _payload.url = data.url;\n    }\n\n    if (data && data.description) {\n      _payload.description = data.description;\n    }\n\n    if (data && data.employment) {\n      _payload.employment = [\n        (data.employment as CompanyDataEmployment).title\n      ];\n\n      if ((data.employment as CompanyDataEmployment).role) {\n        _payload.employment.push((data.employment as CompanyDataEmployment).role!);\n      }\n    }\n\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:company\", [name, _payload]]);\n  }\n\n  getEmail(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:email\");\n  }\n\n  getPhone(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:phone\");\n  }\n\n  getNickname(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:nickname\");\n  }\n\n  getAvatar(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:avatar\");\n  }\n\n  getCompany(): object | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:company\");\n  }\n\n  onEmailChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:email:changed\"]);\n      window.$crisp.push([\"on\", \"user:email:changed\", callback]);\n    }\n  }\n\n  onPhoneChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:phone:changed\"]);\n      window.$crisp.push([\"on\", \"user:phone:changed\", callback]);\n    }\n  }\n\n  onNicknameChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:nickname:changed\"]);\n      window.$crisp.push([\"on\", \"user:nickname:changed\", callback]);\n    }\n  }\n\n  onAvatarChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:avatar:changed\"]);\n      window.$crisp.push([\"on\", \"user:avatar:changed\", callback]);\n    }\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport default class CrispTrigger {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  run(name: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"trigger:run\", [name]]);\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport enum EventsColors {\n  Red = \"red\",\n  Orange = \"orange\",\n  Yellow = \"yellow\",\n  Green = \"green\",\n  Blue = \"blue\",\n  Purple = \"purple\",\n  Pink = \"pink\",\n  Brown = \"brown\",\n  Grey = \"grey\",\n  Black = \"black\"\n}\n\nexport default class CrispSession {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  reset(reload = false) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.do(\"session:reset\", [reload]);\n    }\n  }\n\n  setSegments(segments: string[], overwrite: boolean) {\n    this.parent.createSingletonIfNecessary();\n\n    $crisp.push([\"set\", \"session:segments\", [segments, overwrite]]);\n  }\n\n  setData(data: object) {\n    const _payload = [];\n\n    Object.entries(data).forEach(item => {\n      if (this.isValidDataValue(item[0])) {\n        _payload.push([item[0], item[1]]);\n      }\n    });\n\n    this.parent.createSingletonIfNecessary();\n\n    $crisp.push([\"set\", \"session:data\", [_payload]]);\n  }\n\n  pushEvent(name: string, data: object = {}, color: EventsColors = EventsColors.Blue) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"set\", \"session:event\", [[[name, data, color]]]]);\n    }\n  }\n\n  getData(key: string): string | boolean | number | undefined {\n    if (!this.parent.isCrispInjected()) {\n      return undefined;\n    }\n\n    return window.$crisp.get(\"session:data\", key);\n  }\n\n  getIdentifier(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"session:identifier\");\n  }\n\n\n  onLoaded(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"session:loaded\"]);\n    window.$crisp.push([\"on\", \"session:loaded\", callback]);\n  }\n\n  private isValidDataValue(value: string): boolean {\n    return (\n      typeof value === \"string\" ||\n      typeof value === \"number\" ||\n      typeof value === \"boolean\"\n    );\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport default class CrispChat {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  show() {\n    this.parent.autoInjectIfNecessary();\n\n    window.$crisp.push([\"do\", \"chat:show\"]);\n  }\n\n  hide() {\n    this.parent.autoInjectIfNecessary();\n\n    window.$crisp.push([\"do\", \"chat:hide\"]);\n  }\n\n  open() {\n    this.parent.autoInjectIfNecessary();\n\n    window.$crisp.push([\"do\", \"chat:open\"]);\n  }\n\n  close() {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"do\", \"chat:close\"]);\n    }\n  }\n\n  setHelpdeskView() {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"helpdesk:search\"]);\n  }\n\n  openHelpdeskArticle(locale: string, slug: string, title?: string, category?: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"helpdesk:article:open\", [locale, slug, title, category]]);\n  }\n\n  queryHelpdesk(query: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"helpdesk:query\", [query]]);\n  }\n\n  unreadCount(): number {\n    if (!this.parent.isCrispInjected()) {\n      return 0;\n    }\n\n    return window.$crisp.get(\"chat:unread:count\");\n  }\n\n  isChatOpened(): boolean {\n    if (!this.parent.isCrispInjected()) {\n      return false;\n    }\n\n    return window.$crisp.is(\"chat:opened\");\n  }\n\n  isVisible(): boolean {\n    if (!this.parent.isCrispInjected()) {\n      return false;\n    }\n\n    return window.$crisp.is(\"chat:visible\");\n  }\n\n  onChatInitiated(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:initiated\"]);\n    window.$crisp.push([\"on\", \"chat:initiated\", callback]);\n  }\n\n  onChatOpened(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:opened\"]);\n    window.$crisp.push([\"on\", \"chat:opened\", callback]);\n  }\n\n  onChatClosed(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:closed\"]);\n    window.$crisp.push([\"on\", \"chat:closed\", callback]);\n  }\n\n  onHelpdeskQueried(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"helpdesk:queried\"]);\n    window.$crisp.push([\"on\", \"helpdesk:queried\", callback]);\n  }\n}\n","import CrispMessage from \"./message\";\n\nexport {\n  AnimationMessage,\n  AudioMessage,\n  FileMessage,\n  PickerMessage,\n  PickerMessageChoices,\n  FieldMessage\n} from \"./message\";\n\nimport CrispUser from \"./user\";\n\nexport {\n  CompanyData,\n  CompanyDataEmployment,\n  CompanyDataGeolocation\n} from \"./user\";\n\nimport CrispTrigger from \"./trigger\";\n\nimport CrispSession from \"./session\";\n\nexport {\n  EventsColors,\n} from \"./session\";\n\nimport CrispChat from \"./chat\";\n\n/* eslint-disable no-var, @typescript-eslint/no-explicit-any */\ndeclare global {\n  var $crisp: any;\n  var CRISP_WEBSITE_ID: string;\n  var CRISP_TOKEN_ID: string;\n  var CRISP_RUNTIME_CONFIG: any;\n  var CRISP_COOKIE_DOMAIN: string;\n  var CRISP_COOKIE_EXPIRE: number\n}\n/* eslint-enable no-var, @typescript-eslint/no-explicit-any */\n\n\nexport type Options = {\n  clientUrl?: string\n  autoload?: boolean,\n  tokenId?: string\n  locale?: string\n  sessionMerge?: boolean\n  cookieDomain?: string\n  cookieExpire?: number\n  lockMaximized?: boolean\n  lockFullview?: boolean\n  safeMode?: boolean\n};\n\nexport enum ChatboxColors {\n  Default = \"default\",\n  Amber = \"amber\",\n  Black = \"black\",\n  Blue = \"blue\",\n  BlueGrey = \"blue_grey\",\n  LightBlue = \"light_blue\",\n  Brown = \"brown\",\n  Cyan = \"cyan\",\n  Green = \"green\",\n  LightGreen = \"light_green\",\n  Grey = \"grey\",\n  Indigo = \"indigo\",\n  Orange = \"orange\",\n  DeepOrange = \"deep_orange\",\n  Pink = \"pink\",\n  Purple = \"purple\",\n  DeepPurple = \"deep_purple\",\n  Red = \"red\",\n  Teal = \"teal\",\n}\n\nexport enum ChatboxPosition {\n  Left = \"left\",\n  Right = \"right\",\n}\n\nclass Crisp {\n  // Options\n  private clientUrl: string = \"https://client.crisp.chat/l.js\";\n  private websiteId: string = \"\";\n  private autoload: boolean = true;\n  private tokenId?: string;\n  private locale?: string;\n  private sessionMerge?: boolean;\n  private cookieDomain?: string;\n  private cookieExpire?: number;\n  private lockFullview?: boolean;\n  private lockMaximized?: boolean;\n  private safeMode?: boolean;\n\n  // States\n  private injected: boolean = false;\n\n  // Instances\n  chat: CrispChat;\n  session: CrispSession;\n  user: CrispUser;\n  message: CrispMessage;\n  trigger: CrispTrigger;\n\n  constructor() {\n    this.chat = new CrispChat(this);\n    this.session = new CrispSession(this);\n    this.user = new CrispUser(this);\n    this.message = new CrispMessage(this);\n    this.trigger = new CrispTrigger(this);\n  }\n\n  configure(websiteId: string, options: Options = {}) {\n    this.websiteId = websiteId;\n    this.tokenId = options.tokenId;\n    this.locale = options.locale;\n    this.sessionMerge = options.sessionMerge;\n    this.cookieDomain = options.cookieDomain;\n    this.cookieExpire = options.cookieExpire;\n    this.lockFullview = options.lockFullview;\n    this.lockMaximized = options.lockMaximized;\n    this.safeMode = options.safeMode;\n\n    if (options.clientUrl !== undefined) {\n      this.clientUrl = options.clientUrl;\n    }\n\n    if (options.autoload !== undefined) {\n      this.autoload = options.autoload;\n    }\n\n    // Autoload Crisp if option is enabled\n    if (this.autoload) {\n      this.load();\n    }\n  }\n\n  load() {\n    const _head = document.getElementsByTagName(\"head\");\n\n    this.createSingletonIfNecessary();\n\n    // Prevents from loading Crisp twice\n    if (this.isCrispInjected() === true) {\n      return;\n    }\n\n    if (!this.websiteId) {\n      throw new Error(\"websiteId must be set before loading Crisp\");\n    }\n\n    window.CRISP_WEBSITE_ID = this.websiteId;\n    window.CRISP_RUNTIME_CONFIG = {};\n\n    if (this.tokenId) {\n      window.CRISP_TOKEN_ID = this.tokenId;\n    }\n\n    if (this.sessionMerge) {\n      window.CRISP_RUNTIME_CONFIG.session_merge = true;\n    }\n\n    if (this.locale) {\n      window.CRISP_RUNTIME_CONFIG.locale = this.locale;\n    }\n\n    if (this.lockFullview) {\n      window.CRISP_RUNTIME_CONFIG.lock_full_view = true;\n    }\n\n    if (this.lockMaximized) {\n      window.CRISP_RUNTIME_CONFIG.lock_maximized = true;\n    }\n\n    if (this.cookieDomain) {\n      window.CRISP_COOKIE_DOMAIN = this.cookieDomain;\n    }\n\n    if (this.cookieExpire) {\n      window.CRISP_COOKIE_EXPIRE = this.cookieExpire;\n    }\n\n    if (!_head || !_head[0]) {\n      return this.deferredLoading();\n    }\n\n    if (this.safeMode === true) {\n      this.setSafeMode(true);\n    }\n\n    const _script = document.createElement(\"script\");\n\n    _script.src = this.clientUrl;\n    _script.async = true;\n\n    _head[0].appendChild(_script);\n\n    this.injected = true;\n  }\n\n  setTokenId(tokenId: string) {\n    this.tokenId = tokenId;\n\n    // Refresh injected token?\n    if (this.isCrispInjected() === true) {\n      if (tokenId) {\n        window.CRISP_TOKEN_ID = tokenId;\n      } else {\n        delete window.CRISP_TOKEN_ID;\n      }\n    }\n  }\n\n  setZIndex(zIndex: number) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"container:index\", [zIndex]]);\n  }\n\n  setColorTheme(color: ChatboxColors) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"color:theme\", [color]]);\n  }\n\n  setHideOnAway(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:on:away\", [enabled]]);\n  }\n\n  setHideOnMobile(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:on:mobile\", [enabled]]);\n  }\n\n  setPosition(position: ChatboxPosition) {\n    this.createSingletonIfNecessary();\n\n    $crisp.push([\"config\", \"position:reverse\", [position === ChatboxPosition.Left]]);\n  }\n\n  setAvailabilityTooltip(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"availability:tooltip\", [enabled]]);\n  }\n\n  setVacationMode(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:vacation\", [enabled]]);\n  }\n\n  setSafeMode(safe: boolean = true) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"safe\", safe]);\n  }\n\n  muteSound(mute: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"sound:mute\", [mute]]);\n  }\n\n  toggleOperatorCount(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"show:operator:count\", [enabled]]);\n  }\n\n  onWebsiteAvailabilityChanged(callback: Function) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"website:availability:changed\"]);\n    window.$crisp.push([\"on\", \"website:availability:changed\", callback]);\n  }\n\n  createSingletonIfNecessary() {\n    // Assigns $crisp singleton\n    if (window.$crisp === undefined) {\n      window.$crisp = [];\n    }\n  }\n\n  autoInjectIfNecessary() {\n    if (!this.isCrispInjected()) {\n      this.load();\n    }\n  }\n\n  isCrispInjected(): boolean {\n    // Check if Crisp was injected (either from the Web SDK, or from another \\\n    //   source)\n    if (this.injected === true || (window.$crisp && window.$crisp.is)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private deferredLoading() {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.load();\n    });\n  }\n}\n\nconst singleton = new Crisp();\n\nexport {\n  singleton as Crisp,\n  Crisp as CrispClass\n};\n"],"names":["EventsColors","ChatboxColors","ChatboxPosition"],"mappings":"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"}